<h3>Построение индивидуальной траектории обучения</h3>
<form action="learning_path.php" method="post">
    <fieldset>
        <legend>Выберите компетенции, которые хотите освоить:</legend>
        {{#new_usercompetencies}}
            <div style="display: inline-block; margin: 10px;">
                <input type="checkbox" name="list_competencies_select[]" id="{{&id}}" value="{{&id}}">
                <label for="{{&id}}">{{&title}}</label>
            </div>
        {{/new_usercompetencies}}
    </fieldset>

    <legend>Выберите максимальную трудоемкость курсов</legend>
    <div class="range-slider">
        <input type="range" name="laboriousness" min="0" max="5" value="2.5" id="fader" step="0.5" list="volsettings" oninput="rangeValueLaboriousness.innerText = this.value">
        <datalist id="volsettings">
            <option>0</option>
            <option>0.5</option>
            <option>1.0</option>
            <option>1.5</option>
            <option>2.0</option>
            <option>2.5</option>
            <option>3.0</option>
            <option>3.5</option>
            <option>4.0</option>
            <option>4.5</option>
            <option>5.0</option>
        </datalist>
        <p id="rangeValueLaboriousness">2.5</p>
    </div>
    
    <legend style="margin-top: 20px;">Выберите максимальную длительность курсов</legend>
    <div class="range-slider" style="margin-bottom: 20px;">
        <input type="range" name="duration" min="0" max="40" value="20" id="fader" step="5" list="volsettings2" oninput="rangeValueDuration.innerText = this.value">
        <datalist id="volsettings2">
            <option>0</option>
            <option>5</option>
            <option>10</option>
            <option>15</option>
            <option>20</option>
            <option>25</option>
            <option>30</option>
            <option>35</option>
            <option>40</option>
        </datalist>
        <p id="rangeValueDuration">20</p>
    </div>
    <input type="submit" class="btn btn-primary" value="Построить" />
</form>


<h3>Освоенные компетенции</h3>

<ol class="rounded">
    {{#my_list_competency}}
        <li><a href="#">{{.}}</a></li>
    {{/my_list_competency}}
</ol>

<div style="display: flex;">
    <div style="width: 100%">
        <canvas id="allComp" height="400" style="margin: auto; width: 60%;"></canvas>
    </div>
</div>
<br/>
<script>
    const ctx = document.getElementById('allComp');
    const myChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: {{&labels}},
            datasets: [{
                label: 'Задания',
                data: {{chart_data}},
                backgroundColor: {{&colors}},
                hoverOffset: 10
            }]
        },
    });
</script>
<br/>